# Airside System â€“ Rule 4-13

**Rule ID:** 4-13  
 
**Rule Description:** Fan schedules shall be modeled identically in the baseline and proposed unless Table G3.1 Section 4 baseline exceptions are applicable.  

**Rule Assertion:** P-RMR = B-RMR                                           
**Appendix G Section:** Table G3.1 Section 4 baseline column  
**Appendix G Section Reference:** None  
**Data Lookup:** None   
**Evaluation Context:** Evaluate each Zone   

**Applicability Checks:**  

1. Does not apply when Section G3.1.1(c) applies, i.e. baseline HVAC system type 3 or 4 has been used for spaces (zones) that differ by more than 40 equivalent full load hrs/week from other spaces (zones) served by the system.
2. Does not apply to zones with nonstandard efficiency measures, such as automatic natural ventilation controls, automatic demand control ventilation controls.

 
**Function Call:** 

1. get_zones_G3.1.1c_40_EFLHs()
2. get_hvac_system_with_longest_fan_schedule()
3. match_data_element()


**Manual Check:** 

1. Conduct manual check if there is a mismatch in zone hvac fan schedules between the baseline and proposed. Check if Table G3.1 Section 4 baseline column exception #2 is applicable. 

**Rule Logic:**  
**Applicability Check 1:** 
- Get dict of zone id keys and hvac id values not applicable to this check because G3.1.1(c) applies: `section_G3.1.1c_applies_zones_hvac_dict_b = get_zones_G3.1.1c_40_EFLHs(B_RMR)`
- For each zone in the P_RMR: `for zone_p in P_RMR...Zone:`
    - Check if this check is applicable (i.e. zone is not in section_G3.1.1c_applies_zones_hvac_dict_b): `if zone_p not in section_G3.1.1c_applies_zones_hvac_dict_b:`
        - Reset schedule mismatch variable which is used to track if the schedules mismatch: `schedule_mismatch = FALSE`
        - Get hvac system with the longest fan operating schedule in the proposed to compare to baseline: `hvac_p = get_hvac_system_with_longest_fan_schedule_p(zone_p.id, P_RMR)`
        - Get hvac system with the longest fan operating schedule in the baseline to compare to proposed (should only be one system in the baseline but just in case we look for the longest): `hvac_b = get_hvac_system_with_longest_fan_schedule(match_data_element(B_RMR,Zone,zone_p.id).id, B_RMR)`
        - Get fan schedule associated with the longest fan operating schedule in the proposed to compare to baseline: `fan_schedule_p = hvac_p.fan_systems[0].operating_schedule.hourly_values`
        - Get fan schedule associated with the baseline system: `fan_schedule_b = hvac_b.fan_systems[0].operating_schedule.hourly_values` 
        - Loop through each hour of the schedules and compare across the B_RMR and P_RMR, : `for x in len(fan_schedule_b):`
            - Check if schedules matches for each hour of the year, if there is a mismatch then set the schedule_mismatch boolean variable equal to TRUE: `if fan_schedule_b.hourly_values(x) != fan_schedule_p.hourly_values(x):schedule_mismatch = TRUE`  

        **Rule Assertion:**
        - Case 1: For each applicable zone, if no schedule mismatch is observed then pass: `if schedule_mismatch == FALSE: PASS`
        - Case 2: Else, undetermined in case exceptions apply:`Else: UNDETERMINED and raise_message "THERE IS A FAN SCHEDULE MISMATCH BETWEEN THE BASELINE AND PROPOSED RMRs FOR THE HVAC SYSTEM(S) SERVING THIS ZONE. FAIL UNLESS TABLE G3.1 SECTION 4 BASELINE COLUMN EXCEPTIONS #1 or #2 IS APPLICABLE"`


 **[Back](../_toc.md)**
