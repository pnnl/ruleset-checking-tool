# ASHVAC â€“ Rule 10-4  

**Rule ID:** 10-4  
 
**Rule Description:** Baseline HVAC systems using fossil fuel shall be modeled using natural gas. Except where natural gas is not available for the proposed building site, propane shall be used as the heating fuel.  

**Rule Assertion:** B-RMR = expected value                                           
**Appendix G Section:** Section G3.1-10 HVAC Systems for the baseline building   
**Appendix G Section Reference:**   
**Data Lookup:** None   
**Evaluation Context:** Evaluate each HeatingVentilationAirAconditioningSystem   

**Applicability Checks:**   None 

**Function Call:**  

1. get_baseline_system_types()
2. get_fuels_modled_in_RMR()


**Manual Check:** None   
 

**Rule Logic:**     
- Get list of P_RMR heating_fuels: `heating_fuels_p = get_fuels_modled_in_RMR(P_RMR)`
- Check if oil, other or propane are in the P_RMR: `if "PROPANE" in heating_fuels_p or "FUEL_OIL" in heating_fuels_p or "OTHER" in heating_fuels_p: oil_prop_other_p = TRUE`
- Else: `oil_prop_other_p = FALSE`
- For each hvac system in the B_RMR: `for hvac_b in B_RMR...HeatingVentilationAirConditioningSystem:`
    - Set boolean variable to FALSE: `fuels_other_b = FALSE`
    - Set boolean variable to FALSE: `fuels_natural_gas_b = FALSE`
    - Set boolean variable to FALSE: `fuels_electricity_b = FALSE`
    - Set boolean variable to FALSE: `fuels_propane_b = FALSE`
    - Set boolean variable to FALSE: `fuels_oil_b = FALSE`
    - For each heating system in hvac_b: `heating_systems_b in hvac_b.heating_system:`
        - Reset energy source variable: `energy_source_type_b = ""`
        - Get the energy_source_type: `energy_source_type_b = heating_systems_b.energy_source_type`
        - Check if the energy source is propane, if so then set boolean variable to true: `if energy_source_type_b in ["PROPANE"]:fuels_propane_b = TRUE`
        - Check else if the energy source is natural gas, if so then set boolean variable to true: `elif energy_source_type_b in ["NATURAL_GAS"]:fuels_natural_gas_b = TRUE`
        - Check else if the energy source is electricity, if so then set boolean variable to true: `elif energy_source_type_b in ["ELECTRICITY"]:fuels_electricity_b = TRUE`
        - Check else if the energy source is fuel oil, if so then set boolean variable to true: `elif energy_source_type_b in ["FUEL_OIL"]:fuels_oil_b = TRUE`
        - Else, set other boolean variable to true: `Else:fuels_other_b = TRUE`    
    - For each preheat system in hvac_b: `preheat_system_b in hvac_b.preheat_system:`
        - Reset energy source variable: `energy_source_type_b = ""`
        - Get the energy_source_type: `energy_source_type_b = preheat_system_b.energy_source_type`
        - Check if the energy source is propane, if so then set boolean variable to true: `if energy_source_type_b in ["PROPANE"]:fuels_propane_b = TRUE`
        - Check else if the energy source is natural gas, if so then set boolean variable to true: `elif energy_source_type_b in ["NATURAL_GAS"]:fuels_natural_gas_b = TRUE`
        - Check else if the energy source is electricity, if so then set boolean variable to true: `elif energy_source_type_b in ["ELECTRICITY"]:fuels_electricity_b = TRUE`
        - Check else if the energy source is fuel oil, if so then set boolean variable to true: `elif energy_source_type_b in ["FUEL_OIL"]:fuels_oil_b = TRUE`
        - Else, set other boolean variable to true: `Else:fuels_other_b = TRUE`  
- For each boiler in B_RMR, save boiler to loop boiler dictionary: `for boiler_b in B_RMR.RulesetModelInstance.boilers: loop_boiler_dict[boiler_b.loop].append(boiler_b)`
- For each fluid loop in B_RMR: `for fluid_loop_b in B_RMR.RulesetModelInstance.fluid_loops:`
    - Check if fluid loop is connected to boiler: `if fluid_loop_b in loop_boiler_dict.keys():`
        - Check if fluid loop is used for heating: `if fluid_loop_b.type = "HEATING":`
            - Add to list of applicable fluid loops: `fluid_loop_list = fluid_loop_b.extend(fluid_loop_b.id)`
- For each applicable fluid loop in fluid_loop_list: `For fluid_loop_b in fluid_loop_list:`
    - Get boiler served by loop: `applicable_boiler = loop_boiler_dict[fluid_loop_b]`
    - Reset energy source variable: `energy_source_type_b = ""`
    - Get the energy_source_type: `energy_source_type_b = applicable_boiler.energy_source_type`
    - Check if the energy source is propane, if so then set boolean variable to true: `if energy_source_type_b in ["PROPANE"]:fuels_propane_b = TRUE`
    - Check else if the energy source is natural gas, if so then set boolean variable to true: `elif energy_source_type_b in ["NATURAL_GAS"]:fuels_natural_gas_b = TRUE`
    - Check else if the energy source is electricity, if so then set boolean variable to true: `elif energy_source_type_b in ["ELECTRICITY"]:fuels_electricity_b = TRUE`
    - Check else if the energy source is fuel oil, if so then set boolean variable to true: `elif energy_source_type_b in ["FUEL_OIL"]:fuels_oil_b = TRUE`
    - Else, set other boolean variable to true: `Else:fuels_other_b = TRUE`  



        **Rule Assertion:**  
        - Case 1: if the baseline energy source is natural gas: `if fuels_other_b == FALSE AND fuels_oil_b == FALSE AND fuels_natural_gas_b == TRUE AND fuels_electricity_b == FALSE AND fuels_propane_b == FALSE: PASS`
        - Case 2: Else if the baseline energy source is propane and there are propane, oil, or other fuels in the proposed and no natural gas in the proposed: `elif fuels_other_b == FALSE AND fuels_oil_b == FALSE AND fuels_natural_gas_b == FALSE AND fuels_electricity_b == FALSE AND fuels_propane_b == TRUE AND "NATURAL_GAS" not in heating_fuels_p AND oil_prop_other_p == TRUE  : PASS`
        - Case 3: Else if the baseline energy source is propane and there is no propane, oil, or other fuels in the proposed and no natural gas in the proposed: `elif fuels_other_b == FALSE AND fuels_oil_b == FALSE AND fuels_natural_gas_b == FALSE AND fuels_electricity_b == FALSE AND fuels_propane_b == TRUE AND "NATURAL_GAS" not in heating_fuels_p AND oil_prop_other_p == FALSE  : UNDETERMINED and raise_message "PROPANE MODELED IN THE BASELINE. CHECK IF NATURAL GAS IS AVAILABLE AT THE BUILDING PER RULES IN SECTION G3.1-10 HVAC SYSTEMS."`
        - Case 4: Else: `Else: FAIL`
    


 **[Back](../_toc.md)**
