# Section 19 - Rule 19-40         
**Schema Version:** 0.0.24      
**Mandatory Rule:** False      
**Rule ID:** 19-40         
**Rule Description:** Baseline systems required to model energy recovery per G3.1.2.10 shall be modeled with a 50% enthalpy recovery ratio. 

**Rule Assertion:** Options are UNDETERMINED/NOT_APPLICABLE     
**Appendix G Section:** G3.1.2.10         
**90.1 Section Reference:** None  

**Data Lookup:** None  

**Evaluation Context:** Each HeatingVentilatingAirConditioningSystem  

**Applicability Checks:** 
1. hvac systems modeled with energy recovery in the baseline.   

**Function Calls:**  None  

## Rule Logic:      
**Applicability Check 1:**  
- For each hvac systen in the B_RMI: `for hvac in B_RMI:`  
    - Create a fan system object: `fan_system_b = hvac.fan_system`  
    - Check if there are any energy recovery objects associated with the fan system object and that the type is not equal to None, Else then this rule outcome is Not_Applicable: `if fan_sys_b.air_energy_recovery != Null and fan_sys_b.air_energy_recovery.energy_recovery_type != "NONE":` 
        - Get the sensible effectiveness: `sensible_eff = hvac.fan_system.air_energy_recovery.design_sensible_effectiveness`  
        - Get the latent effectiveness: `latent_eff = hvac.fan_system.air_energy_recovery.design_latent_effectiveness`  
        - Get the outside air flow through the device: `ERV_OA_CFM = hvac.fan_system.air_energy_recovery.outside_air_flow`  
        - Get the exhaust air flow through the device: `ERV_EA_CFM = hvac.fan_system.air_energy_recovery.exhaust_air_flow`  
        - HVAC system minimum OA flow: `hvac_min_OA_flow = hvac.fan_system.minimum_outdoor_airflow`  
        **Rule Assertion:** 
        - Case 1: Sensible and latent effectiveness are equal to 50% (by definition this corresponds to a 50% enthalpy recovery ratio) and 100% of OA and an equal amount of exhaust goes through the recovery device: PASS: `if sensible_eff == 0.5 and latent_eff == 0.5 and ERV_OA_CFM == hvac_min_OA_flow and ERV_OA_CFM == ERV_EA_CFM: outcome = PASS`  
        - Case 1: Energy recovery was modeled (whether or not is supposed to be modeled or not is checked by another RDS):UNDETERMINED: `outcome = UNDETERMINED and raise_message "<insert hvac.id> was modeled with a design sensible effectiveness of <insert sensible effectiveness>, a design latent effectiveness of <insert latent_eff>, and with <insert ERV_OA_CFM> outdoor air cfm and with <insert ERV_OA_CFM> exhaust air cfm going through the energy recovery device. The HVAC system's minimum outside air CFM is <hvac_min_OA_cfm>. Verify that it is equivalent to 50% enthalpy recovery ratio required by G3.1.2.10.`  

**Notes/Questions:**  
1. I used the hvac fan system minimum OA cfm as the variable for determining if 100% of OA goes through the ERV (I don't think we need to check the exhaust flow, we would just check that it is equal to OA cfm, agreed?). I suggest we add a note to the schema that the fan system minimum OA flow is the minimum to meet code requirements and is not to be confused with the minimum when DCV is applied. What do you think?
2. We check that ER was modeled when it is supposed to be modeled in 19-24 so I do not think there is a reason to repeat all of the logic here.  I think its fine to just show the reviewer all places where it was modeled. 

**[Back](_toc.md)**


