# Section 19 - Rule 19-4             
**Schema Version:** 0.0.24      
**Mandatory Rule:** True    
**Rule ID:** 19-4               
**Rule Description:**  For baseline cooling sizing runs in residential dwelling units, the infiltration, occupants, lighting, gas and electricity using equipment hourly schedule shall be the same as the most used hourly weekday schedule from the annual simulation.  

**Rule Assertion:** Options are Pass/Fail/NOT_APPLICABLE     
**Appendix G Section:** Exception to G3.1.2.2.1          
**90.1 Section Reference:** None  

**Data Lookup:** None    

**Evaluation Context:** Each Space  

**Applicability Checks:**  
1. Applies to residential dwelling unit spaces only.  
  
   
**Function Calls:**  
1. get_component_by_id()  I think this is supposed to return the object associated with an ID?
2. get_most_used_weekday_hourly_schedule()  To be developed by RCT team. I created a shell for this so they know what we need.  



## Rule Logic:   
**Applicability Check 1 - Check if the space is a residential dwelling unit**  
- For each space in the B_RMI: `for space in B_RMI...Space:`   
    - Check if the lighting or ventilation space type is of a residential dwelling unit type, if yes carry on, if not then outcome for this space is NOT_APPLICABLE: `if space.lighting_space_type in ["DWELLING_UNIT"] or space._ventilation_space_type in ["TRANSIENT_RESIDENTIAL_DWELLING_UNIT"]:`  
        - Get the zone that the space is part of start by looping through zones: `for zone in B_RMI.Zone:`  
            - Check if the space is associated with the zone: `if space in zone.spaces: applicable_zone = zone`  
        WRITE FUNCTION TO RETURN THE BUILDING SEGMENT ASSOCIATED WITH A SPACE
        Infiltration schedule check
        - Reset inf_pass_cooling boolean variable: `inf_pass_cooling = true` 
        - Get the infiltration object associated with the zone: `infiltration_obj = applicable_zone.infiltration`  
        - Get the multiplier schedule: `multiplier_sch = get_component_by_id(B_RMI,infiltration_obj.multiplier_schedule)`  
        - Get the design_cooling_multiplier_schedule: `design_cooling_multiplier_sch = multiplier_sch.cooling_design_day_sequence`  
        - Get the get_most_used_weekday_hourly_schedule (this will be a list with 24 values for each hour of a day): `most_used_weekday_hourly_schedule = get_most_used_weekday_hourly_schedule(B_RMI, ASHRAE229,multiplier_sch)`  
        - Reset y = 0: `y = 0`
        - Check if each value in the design_cooling_multiplier_sch matches the corresponding hourly value in the get_most_used_weekday_hourly_schedule: `for x in list(design_cooling_multiplier_sch):`
            - Check if the hourly values are equal between the design_cooling_multiplier_sch and the get_most_used_weekday_hourly_schedule : `if most_used_weekday_hourly_schedule[y] != x: inf_pass_cooling = false`  
            - Add 1 to y: `y = y +1`  

        Occupany schedule check  
        - Reset occ_pass_cooling boolean variable: `occ_pass_cooling = true` 
        - Get the multiplier schedule: `multiplier_sch = get_component_by_id(B_RMI,space.occupant_multiplier_schedule)`    
        - Get the design_cooling_multiplier_schedule: `design_cooling_multiplier_sch = multiplier_sch.cooling_design_day_sequence`  
        - Get the get_most_used_weekday_hourly_schedule (this will be a list with 24 values for each hour of a day): `most_used_weekday_hourly_schedule = get_most_used_weekday_hourly_schedule(B_RMI, ASHRAE229,multiplier_sch)`  
        - Reset y = 0: `y = 0`
        - Check if each value in the design_cooling_multiplier_sch matches the corresponding hourly value in the get_most_used_weekday_hourly_schedule: `for x in list(design_cooling_multiplier_sch):`
            - Check if the hourly values are equal between the design_cooling_multiplier_sch and the get_most_used_weekday_hourly_schedule : `if most_used_weekday_hourly_schedule[y] != x: occ_pass_cooling = false`  
            - Add 1 to y: `y = y +1`  

        Conduct checks for the interior lighting objects:  
        - Get list of interior lighting objects: `lgting_obj_list = list(space.interior_lighting)`  
        - Reset int_lgt_pass_cooling boolean variable: `int_lgt_pass_cooling = true`  
        - For each interior lighting object: `for int_lgt in lgting_obj_list:`  
            - Get the multiplier schedule: `multiplier_sch = get_component_by_id(B_RMI,int_lgt.lighting_multiplier_schedule)`  
            - Get the design_cooling_multiplier_schedule: `design_cooling_multiplier_sch = multiplier_sch.cooling_design_day_sequence`  
            - Get the get_most_used_weekday_hourly_schedule (this will be a list with 24 values for each hour of a day): `most_used_weekday_hourly_schedule = get_most_used_weekday_hourly_schedule(B_RMI, ASHRAE229,multiplier_sch)`  
            - Reset y = 0: `y = 0`
            - Check if each value in the design_cooling_multiplier_sch matches the corresponding hourly value in the get_most_used_weekday_hourly_schedule: `for x in list(design_cooling_multiplier_sch):`
                - Check if the hourly values are equal between the design_cooling_multiplier_sch and the get_most_used_weekday_hourly_schedule : `if most_used_weekday_hourly_schedule[y] != x: int_lgt_pass_cooling = false`  
                - Add 1 to y: `y = y +1`  


        Conduct checks for the miscellaneous objects:  
        - Get list of misc equipment objects: `misc_obj_list = list(space.miscellaneous_equipment)`      
        - Reset misc_pass_cooling boolean variable: `misc_pass_cooling = true`   
        - For each misc equipment object: `for misc in misc_obj_list:`  
            - Get the multiplier schedule: `multiplier_sch = get_component_by_id(B_RMI,misc.multiplier_schedule)`  
            - Get the design_cooling_multiplier_schedule: `design_cooling_multiplier_sch = multiplier_sch.cooling_design_day_sequence`  
            - Get the get_most_used_weekday_hourly_schedule (this will be a list with 24 values for each hour of a day): `most_used_weekday_hourly_schedule = get_most_used_weekday_hourly_schedule(B_RMI, ASHRAE229,multiplier_sch)`  
            - Reset y = 0: `y = 0`
            - Check if each value in the design_cooling_multiplier_sch matches the corresponding hourly value in the get_most_used_weekday_hourly_schedule: `for x in list(design_cooling_multiplier_sch):`
                - Check if the hourly values are equal between the design_cooling_multiplier_sch and the get_most_used_weekday_hourly_schedule : `if most_used_weekday_hourly_schedule[y] != x: misc_pass_cooling = false`  
                - Add 1 to y: `y = y +1`  

        - **Rule Assertion:** 
        - Case 1: If all schedules pass per above then pass: `if all(inf_pass_cooling,occ_pass_cooling,int_lgt_pass_cooling,misc_pass_cooling) == true: outcome = "PASS"`  
        - Case 2: Else, any of the schedules fail: `Else: outcome = "FAIL" and raise_message "<insert space.id> does not appear to have been modeled following the rule that for baseline cooling sizing runs in residential dwelling units, the infiltration, occupants, lighting, gas and electricity design day cooling schedules shalled be modeled using an equipment hourly schedule that is the same as the most used hourly weekday schedule from the annual simulation." `  




**Notes/Questions:**  
1. Thought about including an applicability check at the start to see if there are any dwelling units in the building but it would involve looping through each space which is the same thing that the existing app check is doing so I left it out.
2. Jason plans to add .cooling_design_day_sequence to the schema.  

**[Back](_toc.md)**