# Section 19 - Rule 19-18       
**Schema Version:** 0.0.23    
**Mandatory Rule:** True    
**Rule ID:** 19-9     
**Rule Description:** For baseline system 1 and 2, the total fan electrical power (Pfan) for supply, return, exhaust, and relief shall be = CFMs Ã— 0.3, where, CFMs = the baseline system maximum design supply fan airflow rate, cfm    
**Rule Assertion:** Options are Pass/Fail/NOT_APPLICABLE     
**Appendix G Section:** G3.1.2.9        
**90.1 Section Reference:** None  

**Data Lookup:** None  

**Evaluation Context:** Each HeatingVentilatingAirConditioningSystem  

**Applicability Checks:** 
1. Applies to baseline HVAC system types 1 and 2.

**Function Calls:**  
1. get_baseline_system_types()    
2. get_dict_of_zones_and_terminal_units_served_by_hvac_sys()   

## Rule Logic:   
**Applicability Check 1**   
- Create dictionary of hvac systems, zones, and terminal units: `dict_of_zones_and_terminal_units_served_by_hvac_sys = get_dict_of_zones_and_terminal_units_served_by_hvac_sys(B_RMI)`   
- Create ditionary of baseline system types: `baseline_system_types_dict = get_baseline_system_types(B_RMR)`  
- Check if B-RMI is modeled with at least one air-side system that is Type-1, 1a, 1b, 1c and 2, if yes then carry on, if no then NOT_APPLICABLE for the project: `for sys_type in ["SYS-1", "SYS-1a", "SYS-1b", "SYS-1c", "SYS-2"]):`
    - Check if values are not none for system type key in the dictionary, if it does not equal false then the values are not none and there are applicable system types in the project: `if bool(baseline_system_types_dict.get(sys_type)) != False: is_there_applicable_sys_type = TRUE`
- Check if is_there_applicable_sys_type == True which means there are applicable system types in the project, if yes then carry on, if no then NOT_APPLICABLE for the project: `if  is_there_applicable_sys_type == True:`  
    - For each hvac system in the B_RMI: `for hvac in B_RMI...HeatingVentilatingAirConditioningSystem:` 
        - Check if system type is of an applicable system type, if yes then carry on, if no then NOT_APPLICABLE for the hvac system:  `If any(hvac.id in baseline_hvac_system_dict[sys_type] for sys_type in ["SYS-1", "SYS-1a", "SYS-1b", "SYS-1c", "SYS-2", "SYS-9", "SYS-9b", "SYS-10"]): `       
            - Get the list of zones associated with the hvac system: `zone_list = dict_of_zones_and_terminal_units_served_by_hvac_sys[hvac.id]["ZONE_LIST"]`  
            - Reset supply cfm to zero: `supply_cfm_b = 0`  
            - Reset total_fan_power to zero: `total_fan_power = 0`                    
            - Get the fan system object:  `fan_sys_b = hvac.fan_system`  
            - Get list of supply fan fan objects: `fan_sys_supply_list = list(fan_sys_b.supply_fans)`  
            - Get list of return fan fan objects: `fan_sys_return_list = list(fan_sys_b.return_fans)`
            - Get list of relief fan fan objects: `fan_sys_relief_list = list(fan_sys_b.relief_fans)`
            - Get list of exhaust fan fan objects: `fan_sys_exhaust_list = list(fan_sys_b.exhaust_fans)`
                    
                Below cycles through all fans associated with the HVAC system and sums the total fan kW.
                - Cycle through the list of supply fans: `for fan_b in fan_sys_supply_list:`  
                    - Get the supply cfm and add to cumulative supply cfm as the logic cycles through the supply fans: `supply_cfm_b = supply_cfm_b + fan_b.design_airflow`  
                    - Get the fan specification method: `fan_spec_method = fan_b.specification_method`  
                    - Check if the fan specification method is simple: `if fan_spec_method == "SIMPLE":`  
                        - Get the design electric power: `fan_elec_power = fan_b.design_elecric_power`  
                    - Else if, fan specification method equals detailed and input_power and motor_efficiency is defined : `Elif fan_spec_method == "DETAILED" AND (fan_b.input_power != Null or fan_b.input_power != 0) AND (fan_b.motor_efficiency != Null or fan_b.motor_efficiency != 0):`  
                        - Calculate the electric power (schema says input power is equivalent in concept to brakehorsepower so divided by the motor efficiency to get input power): `fan_elec_power = fan_b.input_power/fan_b.motor_efficiency`  
                    - Else if, fan specification method equals detailed and design_pressure_rise is defined and total fan efficiency is defined: `Elif fan_spec_method == "DETAILED" AND (fan_b.design_pressure_rise != Null or fan_b.design_pressure_rise != 0) AND (fan_b.total_efficiency != Null or fan_b.total_efficiency != 0) :`
                        - Calculate the electric power: `fan_elec_power = fan_b.design_pressure_rise/(8520*fan_b.total_efficiency)`    
                    - Add to the total power: `total_fan_power = total_fan_power + fan_elec_power`
                - Cycle through the list of return fans: `for fan_b in fan_sys_return_list:`  
                    - Get the fan specification method: `fan_spec_method = fan_b.specification_method`  
                    - Check if the fan specification method is simple: `if fan_spec_method == "SIMPLE":`  
                        - Get the design electric power: `fan_elec_power = fan_b.design_elecric_power`  
                    - Else if, fan specification method equals detailed and input_power and motor_efficiency is defined : `Elif fan_spec_method == "DETAILED" AND (fan_b.input_power != Null or fan_b.input_power != 0) AND (fan_b.motor_efficiency != Null or fan_b.motor_efficiency != 0):`  
                        - Calculate the electric power (schema says input power is equivalent in concept to brakehorsepower so divided by the motor efficiency to get input power): `fan_elec_power = fan_b.input_power/fan_b.motor_efficiency`  
                    - Else if, fan specification method equals detailed and design_pressure_rise is defined and total fan efficiency is defined: `Elif fan_spec_method == "DETAILED" AND (fan_b.design_pressure_rise != Null or fan_b.design_pressure_rise != 0) AND (fan_b.total_efficiency != Null or fan_b.total_efficiency != 0) :`
                        - Calculate the electric power: `fan_elec_power = fan_b.design_pressure_rise/(8520*fan_b.total_efficiency)`    
                    - Add to the total power: `total_fan_power = total_fan_power + fan_elec_power`
                - Cycle through the list of relief fans: `for fan_b in fan_sys_relief_list:`  
                    - Get the fan specification method: `fan_spec_method = fan_b.specification_method`  
                    - Check if the fan specification method is simple: `if fan_spec_method == "SIMPLE":`  
                        - Get the design electric power: `fan_elec_power = fan_b.design_elecric_power`  
                    - Else if, fan specification method equals detailed and input_power and motor_efficiency is defined : `Elif fan_spec_method == "DETAILED" AND (fan_b.input_power != Null or fan_b.input_power != 0) AND (fan_b.motor_efficiency != Null or fan_b.motor_efficiency != 0):`  
                        - Calculate the electric power (schema says input power is equivalent in concept to brakehorsepower so divided by the motor efficiency to get input power): `fan_elec_power = fan_b.input_power/fan_b.motor_efficiency`  
                    - Else if, fan specification method equals detailed and design_pressure_rise is defined and total fan efficiency is defined: `Elif fan_spec_method == "DETAILED" AND (fan_b.design_pressure_rise != Null or fan_b.design_pressure_rise != 0) AND (fan_b.total_efficiency != Null or fan_b.total_efficiency != 0) :`
                        - Calculate the electric power: `fan_elec_power = fan_b.design_pressure_rise/(8520*fan_b.total_efficiency)`    
                    - Add to the total power: `total_fan_power = total_fan_power + fan_elec_power`          
                - Cycle through the list of exhaust fans: `for fan_b in fan_sys_exhaust_list:`  
                    - Get the fan specification method: `fan_spec_method = fan_b.specification_method`  
                    - Check if the fan specification method is simple: `if fan_spec_method == "SIMPLE":`  
                        - Get the design electric power: `fan_elec_power = fan_b.design_elecric_power`  
                    - Else if, fan specification method equals detailed and input_power and motor_efficiency is defined : `Elif fan_spec_method == "DETAILED" AND (fan_b.input_power != Null or fan_b.input_power != 0) AND (fan_b.motor_efficiency != Null or fan_b.motor_efficiency != 0):`  
                        - Calculate the electric power (schema says input power is equivalent in concept to brakehorsepower so divided by the motor efficiency to get input power): `fan_elec_power = fan_b.input_power/fan_b.motor_efficiency`  
                    - Else if, fan specification method equals detailed and design_pressure_rise is defined and total fan efficiency is defined: `Elif fan_spec_method == "DETAILED" AND (fan_b.design_pressure_rise != Null or fan_b.design_pressure_rise != 0) AND (fan_b.total_efficiency != Null or fan_b.total_efficiency != 0) :`
                        - Calculate the electric power: `fan_elec_power = fan_b.design_pressure_rise/(8520*fan_b.total_efficiency)`    
                    - Add to the total power: `total_fan_power = total_fan_power + fan_elec_power`        
                - Cycle through each zone associated with the HVAC system to get the exhaust fan power: `for zone_b in zone_list:`  
                    - Create a zone object from the zone id (not sure how the RCT will do this): `zone_b_obj = zone_b`  
                    - Check if there are any exhaust fan objects associated with the zone: `
                    - Get the fan power associated with the exhaust fan associated with the zone (if one)       
            
            
            - **Rule Assertion:** 
            - Case 1: If there is NOT an AirEconomizer object associated with the fan (equals Null) or if the aireconomizer type is fixed fraction then pass: `if hvac.fan_system.AirEconomizer == Null OR hvac.fan_system.AirEconomizer.type == "FIXED_FRACTION": outcome = "PASS"`  
            - Case 2: Else, fail: `Else: outcome = "Fail"`  

**Notes/Questions:**  
1. Is the design_pressure_rise the same as total pressure?

**[Back](_toc.md)**