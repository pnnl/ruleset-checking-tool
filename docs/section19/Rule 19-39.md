# Section 19 - Rule 19-39                 
**Schema Version:** 0.0.24      
**Mandatory Rule:** True    
**Rule ID:** 19-39                   
**Rule Description:**  For baseline systems serving only laboratory spaces that are prohibited from recirculating return air by code or accreditation standards, the baseline system shall be modeled as 100% outdoor air. 

**Rule Assertion:** Options are Pass/Fail/UNDETERMINED/NOT_APPLICABLE     
**Appendix G Section:** G3.1.2.5 Exception 4           
**90.1 Section Reference:** None  

**Data Lookup:** None    

**Evaluation Context:** Each HeatingVentilatingAirConditioningSystem  

**Applicability Checks:**  
1. Applies to lab spaces only.    
   
**Function Calls:**  
1. get_dict_of_zones_and_terminal_units_served_by_hvac_sys()    
2. get_fan_system_object_supply_return_exhaust_relief_total_kW_CFM() 

## Rule Logic:   
**Applicability Check 1:**  Checks each HVAC system for applicability  (does it serve only labs) otherwise outcome is NOT_APPLICABLE
- Create dictionary of hvac systems and associated zones and terminal units for the baseline: `dict_of_zones_and_terminal_units_served_by_hvac_sys_b = get_dict_of_zones_and_terminal_units_served_by_hvac_sys(B_RMI)`   
- For each hvac system in the B_RMI: `for hvac in B_RMI...HeatingVentilatingAirConditioningSystem:`  
    - Reset hvac_system_serves_only_labs boolean variable to true: `hvac_system_serves_only_labs = true`  
    - Get list of zones served by the hvac system: `zones_list_hvac_sys_b = dict_of_zones_and_terminal_units_served_by_hvac_sys_b[hvac.id]["ZONE_LIST"]`  
    - For each zone associated with the HVAC system: `for zone in zones_list_hvac_sys_b:`  
        - For each space types associated with the zone, check if any spaces are NOT labs: `for space in zone.spaces:`
            - Check if the lighting space type is NOT a lab: `if space.lighting_space_type not in [LABORATORY_EXCEPT_IN_OR_AS_A_CLASSROOM]: hvac_system_serves_only_labs = false`    
    - Check if hvac_system_serves_only_labs equal true, if yes then carry on, if not then outcome is NOT_APPLICABLE: `if outcome is NOT_APPLICABLE == True:`  
        - Get the maximum_outdoor_airflow for the fan system: `max_OA_flow = hvac.fan_system.maximum_outdoor_airflow`  
        - Get the design air flow: `design_supply_flow = list(get_fan_system_object_supply_return_exhaust_relief_total_kW_CFM(B_RMI, hvac.fan_system)["Fan_CFM])[0]`  
        - Get the minimum air flow: `min_air_flow = hvac.fan_system.minimum_airflow`  
        - Get the minimum OA flow: `min_OA_flow = hvac.fan_system.minimum_outdoor_airflow` 
        
    - **Rule Assertion:** 
    - Case 1: If the baseline system was modeled with the design supply cfm equal to the maximum OA cfm and the minimum air flow was modeled as the minimum OA flow then pass: `if max_OA_flow == design_supply_flow and min_OA_flow == min_air_flow : outcome = "PASS"`  
    - Case 2: Else, fail: `Else: outcome = "Fail" and raise_message "For <insert hvac.id> the modeled baseline system serves only laboratory spaces that are likely prohibited from recirculating return air by code or accreditation standards, therefore it is expected that the baseline system would be modeled as 100% outdoor air per the requirements of Section G3.1.2.5 Exception #4."`  


**Notes/Questions:**   
1. I was not sure how exactly to assess whether a unit is 100% OA. I figure it would have to have a design supply cfm that matches the maximum OA cfm and the min supply cfm matching the min OA requirements but I don't think this guarentees 100% OA operation. 

**[Back](_toc.md)**