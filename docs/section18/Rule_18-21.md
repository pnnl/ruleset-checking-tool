# HVAC_SystemZoneAssignment - Rule 18-21
**Schema Version:** 0.0.22  

**Rule ID:** 18-21
**Rule Description:** For baseline HVAC system type 6,8,10,12, system 4 is substituted and for baseline HVAC system type 5,7,9,11,13, system 3 is substituted for all HVAC zones that have occupancy, or internal gains that differ significantly from the rest of the HVAC zones served by the system. Total peak internal gains of 30 Btu/hÂ·ft2 or higher that also differ by 12 Btu/h.ft2 or more from the  average of other HVAC zones served by the system, or occupied hours that are more than 40 hours per week higher than the average of other HVAC zones served by the system, are considered to differ significantly..
**Rule Assertion:** B-RMR = expected value  
**Appendix G Section:** Section 18 HVAC_SystemZoneAssignment  
**Appendix G Section Reference:** Table G3.1.1.c

**Applicability:** All required data elements exist for B_RMR  
**Applicability Checks:**  

1. Meets G3.1.1b (Has a non-predoimant building area type >= 20,000 ft2)

**Manual Check:** Yes  
**Evaluation Context:** Evaluate whether each Zone is served by the correct HVAC system type  
**Data Lookup:**   
**Function Call:** 

1. get_zone_target_baseline_system()
2. section_18_rule_test()


**Applicability Checks:**

## Rule Logic:  
- The target string is: `target_string = "G3_1_1e"
- get the list of zones, their expected systems and the source string: `zones_expected_system_types = get_zone_target_baseline_system(P-RMD,B-RMD)`

- loop through the zones: `for zone in zones_expected_system_types:`
	- use the section_18_rule_test function to determine whether the zone meets the requirements: `zone_result = section_18_rule_test(P-RMD,B-RMD,zone.id,target_string,zones_expected_system_types[zone]["EXPECTED_SYSTEM_TYPE"])`


  **Rule Assertion - Zone:**

 - Case 1: the target strings don't match, so it is not applicable to this zone: `if zone_result == NOT_APPLICABLE: NOT_APPLICABLE`
  - Case 2: All terminals in the zone are System-4 (there should only be one terminal in the zone, but this rule doesn't check number of terminals):`if zone_result == PASS: PASS`

  - Case 3: Else: `else: FAIL`

**Notes:**

**[Back](../_toc.md)**
