# HVAC_SystemZoneAssignment - Rule 18-24  
**Schema Version:** 0.0.22  

**Rule ID:** 18-24  
**Rule Description:** HVAC zones designed with heating-only systems in the proposed design serving storage rooms, stairwells, vestibules, electrical/mechanical rooms, and restrooms not exhausting or transferring air from mechanically cooled thermal zones in the proposed design shall use system type 9 or 10 in the baseline building design.
**Rule Assertion:** B-RMR = expected value  
**Appendix G Section:** Section 18 HVAC_SystemZoneAssignment  
**Appendix G Section Reference:** Table G3.1.1.e

**Applicability:** All required data elements exist for B_RMR  
**Applicability Checks:**  

1. Meets G3.1.1.e
	a.Heating-Only system in the proposed design
	b. one of these space types: storage rooms, stairwells, vestibules, electrical/mechanical rooms, and restrooms
	c. zone does not exhaust from a mechanically cooled zone

**Manual Check:** Yes  
**Evaluation Context:** Evaluate whether each Zone is served by the correct HVAC system type  
**Data Lookup:**   
**Function Call:** 

1. is_a_vestibule()
2. get_zone_target_baseline_system()
3. get_baseline_system_types()


**Applicability Checks:**
- The target string is: `target_string = "G3_1_1e"
- get the list of zones, their expected systems and the source string: `zones_expected_system_types = get_zone_target_baseline_system(P-RMD,B-RMD)`
- get the list of all the baseline system types that exist in the baseline model: `baseline_system_types = get_baseline_system_types(B-RMI)`

## Rule Logic:  
- loop through building segments: `for segment in RMR.building_segments:`
	- loop through zones in the segments: `for zone in segment.zones:`
		- check whether the description string in zones_expected_system_types matches the target_string: `if zones_expected_system_types[zone][1] == target_string:`
			- now check whether the system(s) serving this zone match the expected system.  Start by getting the list of HVAC systems that serve the zone: `hvac_systems_serving_zone = get_list_hvac_systems_associated_with_zone(B-RMD)`
			- loop through these systems: `for system_b in hvac_systems_serving_zone:`
				- create a boolean that indicates whether all systems pass: `all_systems_in_zone_pass = TRUE`
				- if the strings match, the expected system type will be either "SYS-9" or "SYS-10", depending on source fuel.  We can compare the system type in the zone to the expected system type: `if system_b.id in baseline_system_types[zones_expected_system_types[zone][0]]:`
					- this system passes, no need to do anything (in the python code, the check above can be `not in` instead of `in`)
				- otherwise, this system is not compliant: `else:`
					- set the boolean to false, this zone will fail: `all_systems_in_zone_pass = FALSE`
	- create is_vestibule variable. There is no 100% vestibule check, so a suspected vestibule will trigger an alert for a manual check: `is_a_vestibule = is_zone_a_vestibule(zone, B-RMI)`
		- this will trigger a vestibule
  **Rule Assertion - Zone:**

  - Case 1: the description string does not match the target string: `if zones_expected_system_types[zone][1] != target_string: NOT_APPLICABLE`
  - Case 2: All terminals in the zone match the expected system type from get_zone_target_baseline_system  AND zone is not a vestibule:`if all_systems_in_zone_pass == TRUE and is_a_vestibule == NO: PASS`
  - Case 3: All terminals in the zone match the expected system type from get_zone_target_baseline_system  AND zone is potentially a vestibule:`if all_systems_in_zone_pass == TRUE and is_a_vestibule != NO: MANUAL CHECK - "We have identified that " + zone + " is possibly a vestibule.  If this zone is a vestibule, PASS"`
  - Case 4: Not all terminals in the zone match the expected system type from get_zone_target_baseline_system  AND zone is not potentially a vestibule:`if all_systems_in_zone_pass == FALSE and is_a_vestibule == NO: FAIL`
  - Case 5: Not all terminals in the zone match the expected system type from get_zone_target_baseline_system  AND zone is potentially a vestibule:`if all_systems_in_zone_pass == FALSE and is_a_vestibule != NO: MANUAL CHECK - "We have identified that " + zone + " is possibly a vestibule.  If this zone is a vestibule, the system type should be System 9 or 10."`

**Notes:**

**[Back](../_toc.md)**
