
# CHW&CW - Rule 22-33  

**Schema Version:** 0.0.10  
**Mandatory Rule:** True  
**Rule ID:** 22-33  
**Rule Description:** Baseline chilled water system that does not use purchased chilled water must only have no more than one CHW plant.  
**Rule Assertion:** B-RMR = expected value  
**Appendix G Section:** Section 22 CHW&CW Loop  
**90.1 Section Reference:** Section G3.1.3.2 Building System-Specific Modeling Requirements for the Baseline model  
**Data Lookup:** None  
**Evaluation Context:** Building  
**Applicability Checks:**  

1. B-RMR is modeled with at least one air-side system that is Type-7, 8, 11.1, 11.2, 12, 13, 7b, 8b, 11b, 12b, 13b.

**Function Calls:**  

1. get_baseline_system_types()
2. get_primary_secondary_loops()

**Applicability Checks:**  

- **Check 1:** Get B-RMR system types: `baseline_hvac_system_dict = get_baseline_system_types(B-RMR)`

  - Check if B-RMR is modeled with at least one air-side system that is Type-7, 8, 11.1, 11.2, 12, 13, 7b, 8b, 11b, 12b, 13b, i.e. with air-side system served by chiller(s): `if any(sys_type in baseline_hvac_system_dict.keys() for sys_type in ["SYS-7", "SYS-8", "SYS-11.1", "SYS-11.2", "SYS-12", "SYS-13", "SYS-7B", "SYS-8B", "SYS-11B", "SYS-12B", "SYS-13B"]): RULE_LOGIC`
  - Else if, check if HVAC system is baseline system Type 1a, 1c, 3a, 3c, 7a, 7c, 8a, 8c, 11b, 11c, 11.2a, 12a, 12c, 13a (systems with purchased CHW): `elif any(hvac.id in baseline_hvac_system_dict[sys_type] for sys_type in ["SYS-1a", "SYS-1c", "SYS-3a", "SYS-3c", "SYS-7a", "SYS-7c", "SYS-8a", "SYS-8c", "SYS-11b", "SYS-11c", "SYS-11.2a", "SYS-12a", "SYS-12c", "SYS-13a"]): RULE_LOGIC`  
  - Else, rule is not applicable to B-RMR: `else: RULE_NOT_APPLICABLE`  

## Rule Logic:  

- Get number of primary loops in B-RMR: `num_primary_loops = LEN(primary_secondary_loop_dictionary)`

- Get number of secondary loops in B-RMR: `num_secondary_loops = SUM( LEN(primary_secondary_loop_dictionary[primary_loop]) for primary_loop in primary_secondary_loop_dictionary.keys() )`

- Check if RMR is modeled with external fluid source: `if B-RMR.RuleModelInstance.external_fluid_source != Null:`  
    - For each external fluid source in B_RMR: `for external_fluid_source.id in B-RMR.RuleModelInstance.external_fluid_source:`  
        - Check if external fluid source is chilled water: `if external_fluid_source.id.type == "CHILLED_WATER"`    
            - Add the associated loop to the purchased_chilled_water_loop_list_b list: `purchased_chilled_water_loop_list_b = purchased_chilled_water_loop_list_b.append (external_fluid_source.id)`  
- For each HVAC system in the B_RMR: `for hvac in B_RMR...HeatingVentilationAirConditioningSystem`  
  - Check if HVAC system is baseline system Type 1a, 1c, 3a, 3c, 7a, 7c, 8a, 8c, 11b, 11c, 11.2a, 12a, 12c, 13a (systems with purchased CHW): `if any(hvac.id in baseline_hvac_system_dict[sys_type] for sys_type in ["SYS-1a", "SYS-1c", "SYS-3a", "SYS-3c", "SYS-7a", "SYS-7c", "SYS-8a", "SYS-8c", "SYS-11b", "SYS-11c", "SYS-11.2a", "SYS-12a", "SYS-12c", "SYS-13a"]):`  
  - If the system type is not 1a or 1c then save chilled water loop that serves cooling systems to non-process CHW coil loop array (array for all loops connected to cooling coils): `if hvac.id Not in baseline_hvac_system_dict["SYS-1c"] and hvac.id Not in baseline_hvac_system_dict["SYS-1a"]: non_process_chw_coil_loop_array.append(hvac.cooling_system[0].chilled_water_loop)` 
  
  - Check if fluid loop type is cooling, add to cooling CHW loop count: `if fluid_loop_b.type == "COOLING": chw_loop_count += 1`  

**Rule Assertion - Component:**

- Case 1: If only one CHW primary and one secondary loop is modeled: `if ( num_primary_loops == 1 ) AND ( num_secondary_loops == 1 ): PASS`

- Case 2: Else: `else: FAIL`

**[Back](../_toc.md)**

**Notes:**

1. Treat all buildings under RMR as one building.
2. Updated the Rule ID from 22-34 to 22-33 on 7/26/2022
